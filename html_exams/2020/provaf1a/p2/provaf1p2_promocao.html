title:Promoção de Primeira
template:exams/tarefa_programacao.html
order:4
<p>
O reino da Linearlândia possui N cidades espalhadas por seu vasto
território, sendo que N-1 pares distintos de cidades estão ligados
diretamente por uma rodovia bi-direcional. Esses pares foram
escolhidos de forma que existe exatamente um caminho entre qualquer
par de cidades, possivelmente passando por outras cidades no meio do
caminho. Cada rodovia da Linearlândia é servida por uma linha de
ônibus, que faz viagens de ida e volta entre as duas cidades, operada
por apenas uma empresa, como manda a lei determinada pelo Rei. O
problema é que existem apenas duas empresas de ônibus: a RoyalBus e a
ImperialBus.

<p>Cada viagem entre duas cidades ligadas diretamente por uma rodovia
custa uma passagem da empresa que opera aquela linha. Ao chegar numa
cidade, se o passageiro quiser prosseguir viagem para outra cidade,
ele tem que desembarcar, entrar em outro ônibus e pagar outra
passagem. Só que o Rei determinou, para o feriadão anual de celebração
da Linearidade Real, uma estranha promoção: sempre que o passageiro
entrar no ônibus de uma empresa ele não precisa pagar a passagem se
sua viagem imediatamente anterior foi pela outra empresa. Quer dizer,
se o caminho alterna entre a RoyalBus e a ImperialBus, só é preciso
pagar uma passagem, a primeira.

<p>Neste problema, dada a descrição da malha de rodovias da
Linearlândia, seu programa deve computar o número máximo de cidades
num caminho, começando em qualquer cidade, para o qual é preciso pagar
apenas uma passagem para ir da cidade inicial até a cidade final do
caminho. O número de cidades no caminho inclui a cidade inicial e a
cidade final.

<h3>Entrada</h3>
<p>A primeira linha da entrada contém um inteiro N, representando o
número de cidades da Linearlândia. As cidades são numeradas de 1 até
N. As N-1 linhas seguintes contêm, cada uma, três inteiros A, B e E,
indicando que existe uma rodovia entre as cidades A e B e que a linha
de ônibus entre elas é operado pela empresa E (0 para RoyalBus, 1 para
ImperialBus).

<h3>Saída</h3>
<p>Seu programa deve imprimir uma linha contendo um inteiro
representando o número máximo de cidades num caminho para o qual é
preciso pagar apenas uma passagem durante a celebração da Linearidade
Real.

<h3>Restrições</h3>
<ul>
<li> 2 &leq;  N &leq;  50000
<li> 1 &leq;  A &leq;  N
<li> 1 &leq;  B &leq;  N
<li> 0 &leq;  E &leq;  1
</ul>

<h3>Informações sobre a pontuação</h3>
<ul>
<li> Em um conjunto de casos de teste somando 20 pontos, o número máximo de rodovias chegando em qualquer cidade é dois. Quer dizer, a malha é um longo caminho passando por todas as cidades.
<li> Em um conjunto de casos de teste somando 20 pontos, N  &leq;  10<sup>3</sup>.
<li> Em um conjunto de casos de teste somando 20 pontos, 10<sup>3</sup> < N  &leq;  10<sup>4</sup>.
<li> Em um conjunto de casos de teste somando 40 pontos, nenhuma restrição adicional.
</ul>

<h3>Exemplos</h3>
<table width="100%" cellspace="2" border="1">
  <tr>
    <td valign="top" width="50%">
      <b>Entrada</b>
      <pre>
8
3 1 0
2 7 0
6 8 1
1 4 1
5 4 1
4 7 1
7 6 0
</pre>
      </td>
    <td valign="top" width="50%">
      <b>Saída</b>
      <pre>
4
	</pre>
      </td>
    </tr>
</table>

<p>&nbsp;</p>

<table width="100%" cellspace="2" border="1">
  <tr>
    <td valign="top" width="50%">
      <b>Entrada</b>
      <pre>
2
1 2 0
</pre>
      </td>
    <td valign="top" width="50%">
      <b>Saída</b>
      <pre>
2
	</pre>
      </td>
    </tr>
</table>

<p>&nbsp;</p>

<table width="100%" cellspace="2" border="1">
  <tr>
    <td valign="top" width="50%">
      <b>Entrada</b>
      <pre>
18
13 16 0
16 15 1
16 12 0
14 12 0
12 8 1
1 18 0
1 3 0
2 3 1
3 8 1
11 17 1
17 10 1
8 17 0
6 7 0
9 7 0
5 7 1
4 5 0
8 5 1
</pre>
      </td>
    <td valign="top" width="50%">
      <b>Saída</b>
      <pre>
6
	</pre>
      </td>
    </tr>
</table>

<p>&nbsp;</p>

