title:Museu
template:tasks/tarefa_programacao.html

<p>Desde que o arquiteto Frank Gehry projetou o Museu Guggenheim de
Bilbao, os museus têm sido construídos com formas cada vez mais
complexas, fugindo de padrões pré-estabelecidos e de simetrias. Um
típico museu moderno é composto por um conjunto de salas ligadas por
corredores e escadas, sem preocupação com a pré-definição de caminhos
a serem seguidos pelas pessoas.

<p>
Henriqueta é uma professora do ensino fundamental que deseja visitar o museu da Ordem 
Brasileira de Medicina (OBM) para mostrar aos seus alunos de ciências como o corpo 
humano funciona e como as cirurgias eram feitas nos séculos XIX e XX. Henriqueta quer 
planejar uma visita pelas salas do museu, obedecendo às seguintes restrições:
<ul>
<li>a visita deve começar e terminar em uma mesma sala;
<li>exceto a sala de partida, nenhuma sala do museu pode ser visitada mais de uma vez;
<li>a visita deve incluir pelo menos duas salas;
<li>os corredores são unidirecionais, ou seja, as pessoas podem caminhar, em um 
corredor, apenas em uma direção.
<li>a visita deve tomar o menor tempo possível.
</ul>

<p>Um estudo preliminar, realizado pelo próprio museu, indica o tempo médio que cada visitante fica em uma sala e quanto tempo demora para atravessar um corredor ou uma escada. Henriqueta quer a 
sua ajuda para calcular o tempo total da menor visita que ela pode efetuar, obedecendo às 
restrições dadas.

<p>Escreva um programa que, dados um conjunto de salas, um conjunto de corredores e 
escadas que ligam essas salas e o tempo necessário para percorrer cada sala e cada 
corredor, determine qual é o menor tempo possível para uma visita. Note que o tempo de 
visita da sala onde a visita se inicia deve ser contado apenas uma vez.

<h3>Entrada</h3>
A primeira linha da entrada contem dois inteiros S e 
C, que indicam, respectivamente, o número de salas e o número de corredores. As salas são
numeradas de 1 a S. Cada uma das C linhas seguintes descreve um corredor ou escada.
A descrição é composta por três inteiros, 
I, F e T, indicando que o corredor somente pode ser percorrido da sala I para a sala F no tempo T.


<h3>Saída</h3>
<p>Seu programa deve imprimir uma única linha contendo o tempo gasto 
na visita de menor duração que Henriqueta pode realizar no museu. Existe pelo menos uma visita 
que atende às restrições impostas.

<h3>Restrições</h3>
<ul>
  <li>1 &leq; S &leq; 1000
  <li>1 &leq; C &leq; 1000
  <li>1 &leq; I &leq; N
  <li>1 &leq; F &leq; N
  <li>1 &leq; T &leq; 1000
  <li>O tempo  total máximo é sempre menor ou igual a 1 000 000.
</ul>

<h3>Exemplos</h3>
<table width="100%" cellspace="2" border="1">
 <tr>
 <td valign="top" width="50%">
 <b>Entrada</b>
 <pre>
2 2
1 1
1 2 1
2 1 3
</pre>
 </td>
 <td valign="top" width="50%">
 <b>Saída</b>
 <pre>
6
</pre>
 </td>
 </tr>
</table>

<table width="100%" cellspace="2" border="1">
 <tr>
 <td valign="top" width="50%">
 <b>Entrada</b>
 <pre>
5 6
5 5 10 10 5
1 2 1
2 3 1
5 1 1
3 4 1
4 1 1
5 2 1
</pre>
 </td>
 <td valign="top" width="50%">
 <b>Saída</b>
 <pre>
34
</pre>
 </td>
 </tr>
</table>

<table width="100%" cellspace="2" border="1">
 <tr>
 <td valign="top" width="50%">
 <b>Entrada</b>
 <pre>
8 10
3 10 8 4 1 1 8 1
1 2 1
1 3 10
4 1 1
5 8 1
3 7 1
7 5 2
8 4 2
2 3 2
3 6 1
6 7 2
</pre>
 </td>
 <td valign="top" width="50%">
 <b>Saída</b>
 <pre>
42
</pre>
 </td>
 </tr>
</table>
