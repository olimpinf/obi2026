<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Sedes Fase Nacional - OBI {{ tipo }}</title>
    <link href="/static/css/mapa_default.css" rel="stylesheet">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    {% if tipo == "prog" %}
    <script src="/static/js/sedes_prog.js"></script>
    {% elif tipo == "ini" %}
    <script src="/static/js/sedes_ini.js"></script>
    {% else %}
    <script src="/static/js/sedes.js"></script>
    {% endif %}
    <script>
var map;
var infoWindow;

function log(msg) {
    setTimeout(function() {
        throw new Error(msg);
    }, 0);
}



var map;
function initMap() {
map = new google.maps.Map(document.getElementById('map'), {
center: {lat: -20.0, lng: -55.0},
zoom: 4
});
console.log('map',map);
        var infoWindow = new google.maps.InfoWindow();


  var mapColors=["#FF0000","#00FF00","0000FF","#FF00FF","#FFFF00","00FFFF",
                 "#448888","#448844","440088","#884488","#888844","448888",
                 "#448888","#884444","440088","#884488","#888844","448888",
                 "#224488","#448822","220088","#884422","#228844","442288",
                 "#220044","#004422","442200","#002244","#228844","442288"];

  var colorsUsed=0;
  var sitesOBI = new Array();


  var fill_opac=0.1;
  var image_sede = {
    url: '/static/img/MarkerYellow.svg',
    // This marker is 20 pixels wide by 32 pixels tall.
    size: new google.maps.Size(24, 42),
    // The origin for this image is 0,0.
    origin: new google.maps.Point(0,0),
    anchor: new google.maps.Point(4, 42)
  };
  var image_sem = {
    url: '/static/img/MarkerRed.svg',
    // This marker is 20 pixels wide by 32 pixels tall.
    size: new google.maps.Size(24, 42),
    // The origin for this image is 0,0.
    origin: new google.maps.Point(0,0),
    anchor: new google.maps.Point(10, 42)
  };
  var image_com = {
    url: '/static/img/MarkerGreen.svg',
    // This marker is 20 pixels wide by 32 pixels tall.
    size: new google.maps.Size(24, 42),
    // The origin for this image is 0,0.
    origin: new google.maps.Point(0,0),
    anchor: new google.maps.Point(12, 42)
    //anchor: new google.maps.Point(4, 42)
  };
  var shape = {
      coords: [1, 1, 1, 20, 18, 20, 18 , 1],
      type: 'poly'
  };

  for (var i=0; i<siteCoords.length; i++) {
      // markers
      var  myLatlng=new google.maps.LatLng(siteCoords[i][1],siteCoords[i][0]);
      var marker = new google.maps.Marker({
         position: myLatlng,
         icon: image_com,
         shape: shape,
         map: map,
         title: siteCity[i],
         zIndex: 0
      });
      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infoWindow.setContent(siteInfo[i]);
          infoWindow.open(map, marker);
        }
      })(marker, i));				   
  }

  for (var i=0; i<siteCoords2.length; i++) {
      // markers
      var  myLatlng=new google.maps.LatLng(siteCoords2[i][1],siteCoords2[i][0]);
      var marker = new google.maps.Marker({
         position: myLatlng,
         icon: image_sem,
         shape: shape,
         map: map,
         title: siteCity2[i],
         zIndex: 1
      });
      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infoWindow.setContent(siteInfo2[i]);
          infoWindow.open(map, marker);
        }
      })(marker, i));				   
  }

  for (var i=0; i<siteCoords3.length; i++) {
      // markers
      var  myLatlng=new google.maps.LatLng(siteCoords3[i][1],siteCoords3[i][0]);
      var marker = new google.maps.Marker({
         position: myLatlng,
         icon: image_sede,
         shape: shape,
         map: map,
         title: siteCity3[i],
         zIndex: 1
      });
      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infoWindow.setContent(siteInfo3[i]);
          infoWindow.open(map, marker);
        }
      })(marker, i));				   
  }
}

    </script>
  </head>
  <body>
    <div id="map"></div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBLsc5K_l-JuI3MjiCkknLM4M3bNVSBllQ&callback=initMap"
    async defer></script>
  </body>
</html>
